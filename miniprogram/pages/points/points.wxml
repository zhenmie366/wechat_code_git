<!--pages/points/points.wxml-->
<view class="container">
  <view class="section-title">
    <text class="section-heading">我的积分</text>
    <text class="section-subheading">查看您的积分余额和分享历史</text>
  </view>
  
  <view class="points-card">
    <view class="card-header">
      <text>积分总览</text>
    </view>
    <view class="card-body">
      <view class="points-display">
        <text class="points-value">{{totalPoints}}</text>
        <text class="points-label">当前积分</text>
      </view>
      
      <view class="points-rules">
        <text class="rules-title">积分规则</text>
        <view class="rule-item">
          <icon type="success" size="16" color="#34C759"></icon>
          <text>每次成功分享可获得 5-10 积分</text>
        </view>
        <view class="rule-item">
          <icon type="success" size="16" color="#34C759"></icon>
          <text>好友通过您的链接注册可获得 20 积分</text>
        </view>
        <view class="rule-item">
          <icon type="success" size="16" color="#34C759"></icon>
          <text>好友通过分享链接购物您可获得额外积分</text>
        </view>
        <view class="rule-item">
          <icon type="success" size="16" color="#34C759"></icon>
          <text>积分可兑换优惠券和礼品</text>
        </view>
      </view>
    </view>
  </view>
  
  <view class="history-card">
    <view class="card-header">
      <text>分享历史</text>
    </view>
    <view class="card-body">
      <view class="history-list">
        <view class="history-item" wx:for="{{history}}" wx:key="index">
          <view class="history-info">
            <text class="history-merchant">{{item.merchant}}</text>
            <text class="history-date">{{item.date}}</text>
          </view>
          <text class="history-points">+{{item.points}} 积分</text>
        </view>
        <view class="empty-state" wx:if="{{history.length === 0}}">
          <icon type="info" size="48" color="#8E8E93"></icon>
          <text class="empty-text">暂无分享记录</text>
          <text class="empty-subtext">开始分享赚取积分吧！</text>
        </view>
      </view>
    </view>
  </view>
</view>
